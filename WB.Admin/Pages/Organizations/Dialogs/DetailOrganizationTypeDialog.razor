@using WB.Shared.Dtos.Organization.ResponseDtos
<div class="container-fluid">
    <div class="row mb-3">
        <div class="col-xl-6">
            <label class="form-label d-block">Created Date</label>
            <span class="fs-12 text-muted">@OrganizationTypeDetail.CreatedDate</span>
        </div>
        <div class="col-xl-6">
            <label class="form-label d-block">Last Modified Date</label>
            <span class="fs-12 text-muted">@(OrganizationTypeDetail.ModifiedDate != null ? OrganizationTypeDetail.ModifiedDate : "N/A")</span>
        </div>
    </div>
    <div class="row mb-3">
        <div class="col-xl-6">
            <label class="form-label d-block">Organization Type (English)</label>
            <span class="fs-12 text-muted">@OrganizationTypeDetail.NameEn</span>
        </div>
        <div class="col-xl-6">
            <label class="form-label d-block">Organization Type (Arabic)</label>
            <span class="fs-12 text-muted">@OrganizationTypeDetail.NameAr</span>
        </div>
    </div>
    <div class="row mb-3">
        <div class="col-xl-6">
            <label class="form-label d-block">Status</label>
            <span class="fs-12 text-muted">@(OrganizationTypeDetail.IsActive ? "Active" : "In Active")</span>
        </div>
    </div>
</div>
<div class="d-flex justify-content-end mt-3 gap-3 pb-2">
    <RadzenButton ButtonStyle="ButtonStyle.Primary" Text="Edit" ButtonType="ButtonType.Button" Click="@(() => dialogService.Close(1))" />
    <RadzenButton ButtonStyle="ButtonStyle.Light" Text="Cancel" Click="@(() => dialogService.Close())" />
</div>

@code {

    #region Parameters
    [Parameter]
    public int OrganizationTypeId { get; set; }
    #endregion

    #region Variables Declaration
    private OrganizationTypeDetailResponseDto OrganizationTypeDetail = new();
    #endregion

    #region On Component Load
    protected override async Task OnInitializedAsync()
    {
        await GetOrganizationTypeDetail();
    }
    #endregion

    #region Populate Organization Type Detail
    private async Task GetOrganizationTypeDetail()
    {
        try
        {
            var response = await apiHelper.SendGetAsync<OrganizationTypeDetailResponseDto>($"Organizations/GetOrganizationTypeDetail?typeId={OrganizationTypeId}");
            if (response.IsSuccessStatusCode)
            {
                OrganizationTypeDetail = (OrganizationTypeDetailResponseDto)response.ResultData;
                await InvokeAsync(StateHasChanged);
            }
            else
            {
                await invalidRequestHandler.ReturnBadRequestNotification(response);
            }
        }
        catch (Exception)
        {
            notificationService.Notify(new NotificationMessage()
            {
                Severity = NotificationSeverity.Error,
                Detail = "Something_went_wrong_Please_try_again",
            });
        }
    }
    #endregion
}