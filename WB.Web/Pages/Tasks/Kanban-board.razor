@page "/task-kanban-board"
@using Soenneker.Blazor.TomSelect
@using Soenneker.Blazor.TomSelect.Configuration
@using Soenneker.Blazor.TomSelect.Enums
@using Soenneker.Blazor.FilePond
@using Soenneker.Blazor.FilePond.Options
@using Soenneker.Blazor.FilePond.Dtos
@using Soenneker.Blazor.FilePond.Enums
@using FlatpickrBlazor
@using FlatpickrBlazor.Components

<!-- Dragula Css -->
<link rel="stylesheet" href="../assets/libs/dragula/dragula.min.css">

    <div class="container-fluid">

        <!-- Page Header -->
        <div class="d-md-flex d-block align-items-center justify-content-between my-4 page-header-breadcrumb">
            <h1 class="page-title fw-semibold fs-18 mb-0">Kanban Board</h1>
            <div class="ms-md-1 ms-0">
                <nav>
                    <ol class="breadcrumb mb-0">
                        <li class="breadcrumb-item"><a href="javascript:void(0);">Task</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Kanban Board</li>
                    </ol>
                </nav>
            </div>
        </div>
        <!-- Page Header Close -->

        <!-- Start:: row-1 -->
        <div class="row">
            <div class="col-xl-12">
                <div class="card custom-card">
                    <div class="card-body p-3">
                        <div class="d-flex align-items-center justify-content-between flex-wrap gap-3">
                            <div class="row kanban-board">
                                <div class="col-xl-5">
                                    <button class="btn btn-primary me-2" data-bs-toggle="modal" data-bs-target="#add-board"><i class="ri-add-line me-1 fw-semibold align-middle"></i>New Board</button>
                                </div>
                                <div class="col-xl-7 mt-2 my-xxl-0">
                                    @if (isRendered)
                                    {
                                        <TomSelect TItem="SelectItem" Items="_selectedItems3" TType="string" Multiple="false" @bind-Value="_selectedValue" Data="_options3" TextField="@(item => item.Name)" ValueField="@(item => item.Id)" Placeholder="Sort By" />
                                    }
                                </div>
                            </div>
                            <div class="avatar-list-stacked">
                                <span class="avatar avatar-rounded">
                                    <img src="../assets/images/faces/2.jpg" alt="img">
                                </span>
                                <span class="avatar avatar-rounded">
                                    <img src="../assets/images/faces/8.jpg" alt="img">
                                </span>
                                <span class="avatar avatar-rounded">
                                    <img src="../assets/images/faces/2.jpg" alt="img">
                                </span>
                                <span class="avatar avatar-rounded">
                                    <img src="../assets/images/faces/10.jpg" alt="img">
                                </span>
                                <span class="avatar avatar-rounded">
                                    <img src="../assets/images/faces/4.jpg" alt="img">
                                </span>
                                <span class="avatar avatar-rounded">
                                    <img src="../assets/images/faces/13.jpg" alt="img">
                                </span>
                                <a class="avatar bg-primary avatar-rounded text-fixed-white" href="javascript:void(0);">
                                    +8
                                </a>
                            </div>
                            <div class="d-flex" role="search">
                                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                                <button class="btn btn-light" type="submit">Search</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End:: row-1 -->

        <!-- Start::row-2 -->
        <div class="WB.Web-kanban-board">
            <div class="kanban-tasks-type new">
                <div class="pe-3 mb-3">
                    <div class="d-flex justify-content-between align-items-center">
                        <span class="d-block fw-semibold fs-15">NEW - 04</span>
                        <div>
                            <a aria-label="anchor" href="javascript:void(0)" class="btn btn-sm bg-white text-default border-0 btn-wave" data-bs-toggle="modal" data-bs-target="#add-task">
                                <i class="ri-add-line align-middle me-1 fw-semibold"></i>Add Task
                            </a>
                        </div>
                    </div>
                </div>
                <BlazorOverlayScrollbars>
                    <BlazorOverlayScrollbarsContent>
                        <div class="kanban-tasks" id="new-tasks">
                            <div id="new-tasks-draggable" data-view-btn="new-tasks">
                                <div class="card custom-card">
                                    <div class="card-body p-0">
                                        <div class="p-3 kanban-board-head">
                                            <div class="d-flex text-muted justify-content-between mb-1 fs-12 fw-semibold">
                                                <div><i class="ri-time-line me-1 align-middle d-inline-block"></i>Created - 28 May</div>
                                                <div>2 days left</div>
                                            </div>
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div class="task-badges"><span class="badge bg-light text-default">#SPK - 11</span><span class="ms-1 badge bg-primary-transparent">UI/UX</span></div>
                                                <div class="dropdown">
                                                    <a aria-label="anchor" href="javascript:void(0);" class="btn btn-icon btn-sm btn-light" data-bs-toggle="dropdown" aria-expanded="false">
                                                        <i class="fe fe-more-vertical"></i>
                                                    </a>
                                                    <ul class="dropdown-menu dropdown-menu-end">
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-eye-line me-1 align-middle d-inline-block"></i>View</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-delete-bin-line me-1 align-middle d-inline-block"></i>Delete</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-edit-line me-1 align-middle d-inline-block"></i>Edit</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="kanban-content mt-2">
                                                <h6 class="fw-semibold mb-1 fs-15">New Dashboard design.</h6>
                                                <div class="kanban-task-description">Lorem ipsum dolor sit amet consectetur adipisicing elit, Nulla soluta consectetur sit amet elit dolor sit amet.</div>
                                            </div>
                                        </div>
                                        <div class="p-3 border-top border-block-start-dashed">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div>
                                                    <a href="javascript:void(0);" class="me-2 text-primary">
                                                        <span class="me-1"><i class="ri-thumb-up-fill align-middle fw-normal"></i></span><span class="fw-semibold fs-12">12</span>
                                                    </a>
                                                    <a href="javascript:void(0);" class="text-muted">
                                                        <span class="me-1"><i class="ri-message-2-line align-middle fw-normal"></i></span><span class="fw-semibold fs-12">02</span>
                                                    </a>
                                                </div>
                                                <div class="avatar-list-stacked">
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/11.jpg" alt="img">
                                                    </span>
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/12.jpg" alt="img">
                                                    </span>
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/7.jpg" alt="img">
                                                    </span>
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/8.jpg" alt="img">
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card custom-card">
                                    <div class="card-body p-0">
                                        <div class="p-3 kanban-board-head">
                                            <div class="d-flex text-muted justify-content-between mb-1 fs-12 fw-semibold">
                                                <div><i class="ri-time-line me-1 align-middle d-inline-block"></i>Created - 30 May</div>
                                                <div>2 days left</div>
                                            </div>
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div class="task-badges"><span class="badge bg-light text-default">#SPK - 05</span><span class="ms-1 badge bg-secondary-transparent">Marketing</span><span class="ms-1 badge bg-warning-transparent">Finance</span></div>
                                                <div class="dropdown">
                                                    <a aria-label="anchor" href="javascript:void(0);" class="btn btn-icon btn-sm btn-light" data-bs-toggle="dropdown" aria-expanded="false">
                                                        <i class="fe fe-more-vertical"></i>
                                                    </a>
                                                    <ul class="dropdown-menu dropdown-menu-end">
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-eye-line me-1 align-middle d-inline-block"></i>View</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-delete-bin-line me-1 align-middle d-inline-block"></i>Delete</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-edit-line me-1 align-middle d-inline-block"></i>Edit</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="kanban-content mt-2">
                                                <h6 class="fw-semibold mb-1 fs-15">Marketing next projects.</h6>
                                                <div class="kanban-task-description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla soluta </div>
                                            </div>
                                        </div>
                                        <div class="p-3 border-top border-block-start-dashed">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div>
                                                    <a href="javascript:void(0);" class="me-2 text-primary">
                                                        <span class="me-1"><i class="ri-thumb-up-fill align-middle fw-normal"></i></span><span class="fw-semibold fs-12">40</span>
                                                    </a>
                                                    <a href="javascript:void(0);" class="text-muted">
                                                        <span class="me-1"><i class="ri-message-2-line align-middle fw-normal"></i></span><span class="fw-semibold fs-12">08</span>
                                                    </a>
                                                </div>
                                                <div class="avatar-list-stacked">
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/13.jpg" alt="img">
                                                    </span>
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/6.jpg" alt="img">
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card custom-card">
                                    <div class="card-body p-0">
                                        <div class="p-3 kanban-board-head">
                                            <div class="d-flex text-muted justify-content-between mb-1 fs-12 fw-semibold">
                                                <div><i class="ri-time-line me-1 align-middle d-inline-block"></i>Created - 02 Jun</div>
                                                <div>1 days left</div>
                                            </div>
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div class="task-badges"><span class="badge bg-light text-default">#SPK - 08</span><span class="ms-1 badge bg-success-transparent">Designing</span></div>
                                                <div class="dropdown">
                                                    <a aria-label="anchor" href="javascript:void(0);" class="btn btn-icon btn-sm btn-light" data-bs-toggle="dropdown" aria-expanded="false">
                                                        <i class="fe fe-more-vertical"></i>
                                                    </a>
                                                    <ul class="dropdown-menu dropdown-menu-end">
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-eye-line me-1 align-middle d-inline-block"></i>View</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-delete-bin-line me-1 align-middle d-inline-block"></i>Delete</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-edit-line me-1 align-middle d-inline-block"></i>Edit</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="kanban-content mt-2">
                                                <div class="task-image mt-2">
                                                    <img src="../assets/images/media/media-36.jpg" class="img-fluid rounded kanban-image" alt="">
                                                </div>
                                                <h6 class="fw-semibold mb-0 mt-2">Design multi usage landing.</h6>
                                            </div>
                                        </div>
                                        <div class="p-3 border-top border-block-start-dashed">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div>
                                                    <a href="javascript:void(0);" class="me-2 text-primary">
                                                        <span class="me-1"><i class="ri-thumb-up-fill align-middle fw-normal"></i></span><span class="fw-semibold fs-12">16</span>
                                                    </a>
                                                    <a href="javascript:void(0);" class="text-muted">
                                                        <span class="me-1"><i class="ri-message-2-line align-middle fw-normal"></i></span><span class="fw-semibold fs-12">28</span>
                                                    </a>
                                                </div>
                                                <div class="avatar-list-stacked">
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/2.jpg" alt="img">
                                                    </span>
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/8.jpg" alt="img">
                                                    </span>
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/5.jpg" alt="img">
                                                    </span>
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/10.jpg" alt="img">
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </BlazorOverlayScrollbarsContent>
                </BlazorOverlayScrollbars>
                <div class="d-grid view-more-button mt-3">
                    <button class="btn btn-primary-light btn-wave">View More</button>
                </div>
            </div>
            <div class="kanban-tasks-type todo">
                <div class="pe-3 mb-3">
                    <div class="d-flex justify-content-between align-items-center">
                        <span class="d-block fw-semibold fs-15">TODO - 36</span>
                        <div>
                            <a aria-label="anchor" href="javascript:void(0)" class="btn btn-sm bg-white text-default border-0 btn-wave" data-bs-toggle="modal" data-bs-target="#add-task">
                                <i class="ri-add-line align-middle me-1 fw-semibold"></i>Add Task
                            </a>
                        </div>
                    </div>
                </div>
                <BlazorOverlayScrollbars>
                    <BlazorOverlayScrollbarsContent>
                        <div class="kanban-tasks" id="todo-tasks">
                            <div id="todo-tasks-draggable" data-view-btn="todo-tasks">
                                <div class="card custom-card">
                                    <div class="card-body p-0">
                                        <div class="p-3 kanban-board-head">
                                            <div class="d-flex text-muted justify-content-between mb-1 fs-12 fw-semibold">
                                                <div><i class="ri-time-line me-1 align-middle d-inline-block"></i>Created - 01 Jun</div>
                                                <div>10 days left</div>
                                            </div>
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div class="task-badges"><span class="badge bg-light text-default">#SPK - 07</span><span class="ms-1 badge bg-pink-transparent">Admin</span><span class="ms-1 badge bg-light text-default">Authentication</span></div>
                                                <div class="dropdown">
                                                    <a aria-label="anchor" href="javascript:void(0);" class="btn btn-icon btn-sm btn-light" data-bs-toggle="dropdown" aria-expanded="false">
                                                        <i class="fe fe-more-vertical"></i>
                                                    </a>
                                                    <ul class="dropdown-menu dropdown-menu-end">
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-eye-line me-1 align-middle d-inline-block"></i>View</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-delete-bin-line me-1 align-middle d-inline-block"></i>Delete</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-edit-line me-1 align-middle d-inline-block"></i>Edit</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="kanban-content mt-2">
                                                <h6 class="fw-semibold mb-1 fs-15">Adding Authentication Pages.</h6>
                                                <div class="kanban-task-description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla soluta </div>
                                            </div>
                                        </div>
                                        <div class="p-3 border-top border-block-start-dashed">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div>
                                                    <a href="javascript:void(0);" class="me-2 text-primary">
                                                        <span class="me-1"><i class="ri-thumb-up-fill align-middle fw-normal"></i></span><span class="fw-semibold fs-12">06</span>
                                                    </a>
                                                    <a href="javascript:void(0);" class="text-muted">
                                                        <span class="me-1"><i class="ri-message-2-line align-middle fw-normal"></i></span><span class="fw-semibold fs-12">02</span>
                                                    </a>
                                                </div>
                                                <div class="avatar-list-stacked">
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/9.jpg" alt="img">
                                                    </span>
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/8.jpg" alt="img">
                                                    </span>
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/14.jpg" alt="img">
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card custom-card">
                                    <div class="card-body p-0">
                                        <div class="p-3 kanban-board-head">
                                            <div class="d-flex text-muted justify-content-between mb-1 fs-12 fw-semibold">
                                                <div><i class="ri-time-line me-1 align-middle d-inline-block"></i>Created - 05 Jun</div>
                                                <div>14 days left</div>
                                            </div>
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div class="task-badges"><span class="badge bg-light text-default">#SPK - 15</span><span class="ms-1 badge bg-success-transparent">Planning</span></div>
                                                <div class="dropdown">
                                                    <a aria-label="anchor" href="javascript:void(0);" class="btn btn-icon btn-sm btn-light" data-bs-toggle="dropdown" aria-expanded="false">
                                                        <i class="fe fe-more-vertical"></i>
                                                    </a>
                                                    <ul class="dropdown-menu dropdown-menu-end">
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-eye-line me-1 align-middle d-inline-block"></i>View</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-delete-bin-line me-1 align-middle d-inline-block"></i>Delete</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-edit-line me-1 align-middle d-inline-block"></i>Edit</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="kanban-content mt-2">
                                                <div class="task-image mt-2">
                                                    <img src="../assets/images/media/media-41.jpg" class="img-fluid rounded kanban-image" alt="">
                                                </div>
                                                <h6 class="fw-semibold mb-0 mt-2">New Project Discussion.</h6>
                                            </div>
                                        </div>
                                        <div class="p-3 border-top border-block-start-dashed">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div>
                                                    <a href="javascript:void(0);" class="me-2 text-primary">
                                                        <span class="me-1"><i class="ri-thumb-up-fill align-middle fw-normal"></i></span><span class="fw-semibold fs-12">17</span>
                                                    </a>
                                                    <a href="javascript:void(0);" class="text-muted">
                                                        <span class="me-1"><i class="ri-message-2-line align-middle fw-normal"></i></span><span class="fw-semibold fs-12">06</span>
                                                    </a>
                                                </div>
                                                <div class="avatar-list-stacked">
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/2.jpg" alt="img">
                                                    </span>
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/8.jpg" alt="img">
                                                    </span>
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/5.jpg" alt="img">
                                                    </span>
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/10.jpg" alt="img">
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </BlazorOverlayScrollbarsContent>
                </BlazorOverlayScrollbars>
                <div class="d-grid view-more-button mt-3">
                    <button class="btn btn-primary-light btn-wave">View More</button>
                </div>
            </div>
            <div class="kanban-tasks-type in-progress">
                <div class="pe-3 mb-3">
                    <div class="d-flex justify-content-between align-items-center">
                        <span class="d-block fw-semibold fs-15">ON GOING - 25</span>
                        <div>
                            <a aria-label="anchor" href="javascript:void(0)" class="btn btn-sm bg-white text-default border-0 btn-wave" data-bs-toggle="modal" data-bs-target="#add-task">
                                <i class="ri-add-line align-middle me-1 fw-semibold"></i>Add Task
                            </a>
                        </div>
                    </div>
                </div>
                <BlazorOverlayScrollbars>
                    <BlazorOverlayScrollbarsContent>
                        <div class="kanban-tasks" id="inprogress-tasks">
                            <div id="inprogress-tasks-draggable" data-view-btn="inprogress-tasks">
                                <div class="card custom-card">
                                    <div class="card-body p-0">
                                        <div class="p-3 kanban-board-head">
                                            <div class="d-flex text-muted justify-content-between mb-1 fs-12 fw-semibold">
                                                <div><i class="ri-time-line me-1 align-middle d-inline-block"></i>Created - 02 Jun</div>
                                                <div>5 days left</div>
                                            </div>
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div class="task-badges"><span class="badge bg-light text-default">#SPK - 13</span><span class="ms-1 badge bg-primary-transparent">UI Design</span><span class="ms-1 badge bg-danger-transparent">Development</span></div>
                                                <div class="dropdown">
                                                    <a aria-label="anchor" href="javascript:void(0);" class="btn btn-icon btn-sm btn-light" data-bs-toggle="dropdown" aria-expanded="false">
                                                        <i class="fe fe-more-vertical"></i>
                                                    </a>
                                                    <ul class="dropdown-menu dropdown-menu-end">
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-eye-line me-1 align-middle d-inline-block"></i>View</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-delete-bin-line me-1 align-middle d-inline-block"></i>Delete</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-edit-line me-1 align-middle d-inline-block"></i>Edit</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="kanban-content mt-2">
                                                <h6 class="fw-semibold mb-1 fs-15">Create Calendar & Mail pages.</h6>
                                                <div class="kanban-task-description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla soluta </div>
                                            </div>
                                        </div>
                                        <div class="p-3 border-top border-block-start-dashed">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div>
                                                    <a href="javascript:void(0);" class="me-2 text-primary">
                                                        <span class="me-1"><i class="ri-thumb-up-fill align-middle fw-normal"></i></span><span class="fw-semibold fs-12">05</span>
                                                    </a>
                                                    <a href="javascript:void(0);" class="text-muted">
                                                        <span class="me-1"><i class="ri-message-2-line align-middle fw-normal"></i></span><span class="fw-semibold fs-12">13</span>
                                                    </a>
                                                </div>
                                                <div class="avatar-list-stacked">
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/13.jpg" alt="img">
                                                    </span>
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/6.jpg" alt="img">
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card custom-card">
                                    <div class="card-body p-0">
                                        <div class="p-3 kanban-board-head">
                                            <div class="d-flex text-muted justify-content-between mb-1 fs-12 fw-semibold">
                                                <div><i class="ri-time-line me-1 align-middle d-inline-block"></i>Created - 03 Jun</div>
                                                <div>12 days left</div>
                                            </div>
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div class="task-badges"><span class="badge bg-light text-default ms-1">#SPK - 09</span><span class="ms-1 badge bg-teal-transparent">Product</span></div>
                                                <div class="dropdown"> 
                                                    <a aria-label="anchor" href="javascript:void(0);" class="btn btn-icon btn-sm btn-light" data-bs-toggle="dropdown" aria-expanded="false">
                                                        <i class="fe fe-more-vertical"></i>
                                                    </a>
                                                    <ul class="dropdown-menu dropdown-menu-end">
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-eye-line me-1 align-middle d-inline-block"></i>View</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-delete-bin-line me-1 align-middle d-inline-block"></i>Delete</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-edit-line me-1 align-middle d-inline-block"></i>Edit</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="kanban-content mt-2">
                                                <h6 class="fw-semibold mb-1 fs-15">Project design Figma,Sketch.</h6>
                                                <div class="kanban-task-description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla soluta </div>
                                            </div>
                                        </div>
                                        <div class="p-3 border-top border-block-start-dashed">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div>
                                                    <a href="javascript:void(0);" class="me-2 text-primary">
                                                        <span class="me-1"><i class="ri-thumb-up-fill align-middle fw-normal"></i></span><span class="fw-semibold fs-12">02</span>
                                                    </a>
                                                    <a href="javascript:void(0);" class="text-muted">
                                                        <span class="me-1"><i class="ri-message-2-line align-middle fw-normal"></i></span><span class="fw-semibold fs-12">0</span>
                                                    </a>
                                                </div>
                                                <div class="avatar-list-stacked">
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/12.jpg" alt="img">
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </BlazorOverlayScrollbarsContent>
                </BlazorOverlayScrollbars>
                <div class="d-grid view-more-button mt-3">
                    <button class="btn btn-primary-light btn-wave">View More</button>
                </div>
            </div>
            <div class="kanban-tasks-type inreview">
                <div class="pe-3 mb-3">
                    <div class="d-flex justify-content-between align-items-center">
                        <span class="d-block fw-semibold fs-15">IN REVIEW - 02</span>
                        <div>
                            <a aria-label="anchor" href="javascript:void(0)" class="btn btn-sm bg-white text-default border-0 btn-wave" data-bs-toggle="modal" data-bs-target="#add-task">
                                <i class="ri-add-line align-middle me-1 fw-semibold"></i>Add Task
                            </a>
                        </div>
                    </div>
                </div>
                <BlazorOverlayScrollbars>
                    <BlazorOverlayScrollbarsContent>
                        <div class="kanban-tasks" id="inreview-tasks">
                            <div id="inreview-tasks-draggable" data-view-btn="inreview-tasks">
                                <div class="card custom-card">
                                    <div class="card-body p-0">
                                        <div class="p-3 kanban-board-head">
                                            <div class="d-flex text-muted justify-content-between mb-1 fs-12 fw-semibold">
                                                <div><i class="ri-time-line me-1 align-middle d-inline-block"></i>Created - 05 Jun</div>
                                                <div>14 days left</div>
                                            </div>
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div class="task-badges"><span class="badge bg-light text-default">#SPK - 15</span><span class="ms-1 badge bg-purple-transparent">Review</span></div>
                                                <div class="dropdown">
                                                    <a aria-label="anchor" href="javascript:void(0);" class="btn btn-icon btn-sm btn-light" data-bs-toggle="dropdown" aria-expanded="false">
                                                        <i class="fe fe-more-vertical"></i>
                                                    </a>
                                                    <ul class="dropdown-menu dropdown-menu-end">
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-eye-line me-1 align-middle d-inline-block"></i>View</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-delete-bin-line me-1 align-middle d-inline-block"></i>Delete</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-edit-line me-1 align-middle d-inline-block"></i>Edit</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="kanban-content mt-2">
                                                <div class="task-image mt-2">
                                                    <img src="../assets/images/media/media-43.jpg" class="img-fluid rounded kanban-image" alt="">
                                                </div>
                                                <h6 class="fw-semibold mb-0 mt-2">Design Architecture strategy.</h6>
                                            </div>
                                        </div>
                                        <div class="p-3 border-top border-block-start-dashed">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div>
                                                    <a href="javascript:void(0);" class="me-2 text-primary">
                                                        <span class="me-1"><i class="ri-thumb-up-fill align-middle fw-normal"></i></span><span class="fw-semibold fs-12">09</span>
                                                    </a>
                                                    <a href="javascript:void(0);" class="text-muted">
                                                        <span class="me-1"><i class="ri-message-2-line align-middle fw-normal"></i></span><span class="fw-semibold fs-12">35</span>
                                                    </a>
                                                </div>
                                                <div class="avatar-list-stacked">
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/3.jpg" alt="img">
                                                    </span>
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/5.jpg" alt="img">
                                                    </span>
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/7.jpg" alt="img">
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </BlazorOverlayScrollbarsContent>
                </BlazorOverlayScrollbars>
                <div class="d-grid view-more-button mt-3">
                    <button class="btn btn-primary-light btn-wave">View More</button>
                </div>
            </div>
            <div class="kanban-tasks-type completed">
                <div class="pe-3 mb-3">
                    <div class="d-flex justify-content-between align-items-center">
                        <span class="d-block fw-semibold fs-15">COMPLETED - 36</span>
                        <div>
                            <a aria-label="anchor" href="javascript:void(0)" class="btn btn-sm bg-white text-default border-0 btn-wave" data-bs-toggle="modal" data-bs-target="#add-task">
                                <i class="ri-add-line align-middle me-1 fw-semibold"></i>Add Task
                            </a>
                        </div>
                    </div>
                </div>
                <BlazorOverlayScrollbars>
                    <BlazorOverlayScrollbarsContent>
                        <div class="kanban-tasks" id="completed-tasks">
                            <div id="completed-tasks-draggable" data-view-btn="completed-tasks">
                                <div class="card custom-card">
                                    <div class="card-body p-0">
                                        <div class="p-3 kanban-board-head">
                                            <div class="d-flex text-muted justify-content-between mb-1 fs-12 fw-semibold">
                                                <div><i class="ri-time-line me-1 align-middle d-inline-block"></i>Created - 12 Jun</div>
                                                <div class="text-success"><i class="ri-check-fill me-1 align-middle d-inline-block"></i>Done</div>
                                            </div>
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div class="task-badges"><span class="badge bg-light text-default">#SPK - 04</span><span class="ms-1 badge bg-success-transparent">UI/UX</span></div>
                                                <div class="dropdown">
                                                    <a aria-label="anchor" href="javascript:void(0);" class="btn btn-icon btn-sm btn-light" data-bs-toggle="dropdown" aria-expanded="false">
                                                        <i class="fe fe-more-vertical"></i>
                                                    </a>
                                                    <ul class="dropdown-menu dropdown-menu-end">
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-eye-line me-1 align-middle d-inline-block"></i>View</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-delete-bin-line me-1 align-middle d-inline-block"></i>Delete</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-edit-line me-1 align-middle d-inline-block"></i>Edit</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="kanban-content mt-2">
                                                <h6 class="fw-semibold mb-1 fs-15">Sash project update.</h6>
                                                <div class="kanban-task-description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla soluta </div>
                                            </div>
                                        </div>
                                        <div class="p-3 border-top border-block-start-dashed">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div>
                                                    <a href="javascript:void(0);" class="me-2 text-primary">
                                                        <span class="me-1"><i class="ri-thumb-up-fill align-middle fw-normal"></i></span><span class="fw-semibold fs-12">18</span>
                                                    </a>
                                                    <a href="javascript:void(0);" class="text-muted">
                                                        <span class="me-1"><i class="ri-message-2-line align-middle fw-normal"></i></span><span class="fw-semibold fs-12">03</span>
                                                    </a>
                                                </div>
                                                <div class="avatar-list-stacked">
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/6.jpg" alt="img">
                                                    </span>
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/13.jpg" alt="img">
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card custom-card">
                                    <div class="card-body p-0">
                                        <div class="p-3 kanban-board-head">
                                            <div class="d-flex text-muted justify-content-between mb-1 fs-12 fw-semibold">
                                                <div><i class="ri-time-line me-1 align-middle d-inline-block"></i>Created - 10 Jun</div>
                                                <div class="text-success"><i class="ri-check-fill me-1 align-middle d-inline-block"></i>Done</div>
                                            </div>
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div class="task-badges"><span class="badge bg-light text-default">#SPK - 10</span><span class="ms-1 badge bg-info-transparent">Development</span></div>
                                                <div class="dropdown">
                                                    <a aria-label="anchor" href="javascript:void(0);" class="btn btn-icon btn-sm btn-light" data-bs-toggle="dropdown" aria-expanded="false">
                                                        <i class="fe fe-more-vertical"></i>
                                                    </a>
                                                    <ul class="dropdown-menu dropdown-menu-end">
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-eye-line me-1 align-middle d-inline-block"></i>View</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-delete-bin-line me-1 align-middle d-inline-block"></i>Delete</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-edit-line me-1 align-middle d-inline-block"></i>Edit</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="kanban-content mt-2">
                                                <h6 class="fw-semibold mb-1 fs-15">React JS new version update.</h6>
                                                <div class="kanban-task-description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla soluta </div>
                                            </div>
                                        </div>
                                        <div class="p-3 border-top border-block-start-dashed">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div>
                                                    <a href="javascript:void(0);" class="me-2 text-primary">
                                                        <span class="me-1"><i class="ri-thumb-up-fill align-middle fw-normal"></i></span><span class="fw-semibold fs-12">22</span>
                                                    </a>
                                                    <a href="javascript:void(0);" class="text-muted">
                                                        <span class="me-1"><i class="ri-message-2-line align-middle fw-normal"></i></span><span class="fw-semibold fs-12">12</span>
                                                    </a>
                                                </div>
                                                <div class="avatar-list-stacked">
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/10.jpg" alt="img">
                                                    </span>
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/11.jpg" alt="img">
                                                    </span>
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/1.jpg" alt="img">
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card custom-card">
                                    <div class="card-body p-0">
                                        <div class="p-3 kanban-board-head">
                                            <div class="d-flex text-muted justify-content-between mb-1 fs-12 fw-semibold">
                                                <div><i class="ri-time-line me-1 align-middle d-inline-block"></i>Created - 07 Jun</div>
                                                <div class="text-success"><i class="ri-check-fill me-1 align-middle d-inline-block"></i>Done</div>
                                            </div>
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div class="task-badges"><span class="badge bg-light text-default">#SPK - 16</span><span class="ms-1 badge bg-primary-transparent">Discussion</span></div>
                                                <div class="dropdown">
                                                    <a aria-label="anchor" href="javascript:void(0);" class="btn btn-icon btn-sm btn-light" data-bs-toggle="dropdown" aria-expanded="false">
                                                        <i class="fe fe-more-vertical"></i>
                                                    </a>
                                                    <ul class="dropdown-menu dropdown-menu-end">
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-eye-line me-1 align-middle d-inline-block"></i>View</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-delete-bin-line me-1 align-middle d-inline-block"></i>Delete</a></li>
                                                        <li><a class="dropdown-item" href="javascript:void(0);"><i class="ri-edit-line me-1 align-middle d-inline-block"></i>Edit</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="kanban-content mt-2">
                                                <div class="task-image mt-2">
                                                    <img src="../assets/images/media/media-86.svg" class="img-fluid rounded kanban-image bg-light" alt="">
                                                </div>
                                                <h6 class="fw-semibold mb-0 mt-2">Project discussion with client.</h6>
                                            </div>
                                        </div>
                                        <div class="p-3 border-top border-block-start-dashed">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div>
                                                    <a href="javascript:void(0);" class="me-2 text-primary">
                                                        <span class="me-1"><i class="ri-thumb-up-fill align-middle fw-normal"></i></span><span class="fw-semibold fs-12">11</span>
                                                    </a>
                                                    <a href="javascript:void(0);" class="text-muted">
                                                        <span class="me-1"><i class="ri-message-2-line align-middle fw-normal"></i></span><span class="fw-semibold fs-12">05</span>
                                                    </a>
                                                </div>
                                                <div class="avatar-list-stacked">
                                                    <span class="avatar avatar-sm avatar-rounded">
                                                        <img src="../assets/images/faces/4.jpg" alt="img">
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </BlazorOverlayScrollbarsContent>
                </BlazorOverlayScrollbars>
                <div class="d-grid view-more-button mt-3">
                    <button class="btn btn-primary-light btn-wave">View More</button>
                </div>
            </div>
        </div>
        <!--End::row-2 -->

        <!-- Start::add board modal -->
        <div class="modal fade" id="add-board" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h6 class="modal-title">Add Board</h6>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                            aria-label="Close"></button>
                    </div>
                    <div class="modal-body px-4">
                        <div class="row">
                            <div class="col-xl-12">
                                <label for="board-title" class="form-label">Task Board Title</label>
                                <input type="text" class="form-control" id="board-title" placeholder="Board Title">
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-light"
                            data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary">Add Board</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- End::add board modal -->

        <!-- Start::add task modal -->
        <div class="modal fade px-0" id="add-task" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h6 class="modal-title">Add Task</h6>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                            aria-label="Close"></button>
                    </div>
                    <div class="modal-body px-4">
                        <div class="row gy-2">
                            <div class="col-xl-6">
                                <label for="task-name" class="form-label">Task Name</label>
                                <input type="text" class="form-control" id="task-name" placeholder="Task Name">
                            </div>
                            <div class="col-xl-6">
                                <label for="task-id" class="form-label">Task ID</label>
                                <input type="text" class="form-control" id="task-id" placeholder="Task ID">
                            </div>
                            <div class="col-xl-12">
                                <label for="text-area" class="form-label">Task Description</label>
                                <textarea class="form-control" id="text-area" rows="2" placeholder="Write Description"></textarea>
                            </div>
                            <div class="col-xl-12">
                                <label for="text-area" class="form-label">Task Images</label>
                                @if (isRendered)
                                {
                                    <FilePond @ref="FilePond" Options="_Productoptions"></FilePond>
                                }
                            </div>
                            <div class="col-xl-12">
                                <label class="form-label">Assigned To</label>
                                @if (isRendered)
                                {
                                    <TomSelect TItem="SelectItem" Items="_selectedItems" TType="string" Multiple="true" @bind-Value="_selectedValue" Data="_options" TextField="@(item => item.Name)" ValueField="@(item => item.Id)" Placeholder="" Configuration="_configuration2" />
                                }
                            </div>
                            <div class="col-xl-6">
                                <label class="form-label">Target Date</label>
                                <div class="form-group">
                                    <div class="input-group">
                                        <div class="input-group-text text-muted"> <i class="ri-calendar-line"></i> </div>
                                        <Flatpickr class="form-control" @ref="_datetime" Options="@_flatpickrOptions2"  placeholder="Choose date with time"/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-6">
                                <label class="form-label">Tags</label>
                                @if (isRendered)
                                {
                                    <TomSelect TItem="SelectItem" Items="_selectedItems2" TType="string" Multiple="true" @bind-Value="_selectedValue" Data="_options2" TextField="@(item => item.Name)" ValueField="@(item => item.Id)" Placeholder="Select Tag" Configuration="_configuration2" />
                                }
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-light"
                            data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary">Add Task</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- End::add task modal -->
    </div>

@code {
    <!-- Flatpickr JS Start -->
    public Flatpickr? _datetime;
    private FlatpickrBlazor.FlatpickrOptions _flatpickrOptions2 = new FlatpickrBlazor.FlatpickrOptions   
    {
        EnableTime = true,
        DateFormat = "Y-m-d H:i",
    };
    <!-- Flatpickr JS End -->
    // Filepond Start //
    private FilePond? FilePond { get; set; }
    private readonly FilePondOptions _Productoptions = new()
    {
        MaxFiles = 20,
        AllowMultiple = true,
    };
    // Filepond End //
        
    private TomSelect<SelectItem, string> _selectedValue = default!;
    private List<SelectItem>? _options;     
    private List<SelectItem>? _options2;    
    private List<SelectItem>? _options3;    
    private List<SelectItem> _selectedItems = new List<SelectItem>();   
    private List<SelectItem> _selectedItems2 = new List<SelectItem>(); 
    private List<SelectItem> _selectedItems3 = new List<SelectItem>(); 
    public class SelectItem
    {
        public string? Id { get; set; }
        public string? Name { get; set; }
        public bool Selected { get; set; }
    } 
    private readonly TomSelectConfiguration _configuration = new()
    {
        Plugins = new List<TomSelectPluginType> { TomSelectPluginType.DropdownInput }
    };
    private readonly TomSelectConfiguration _configuration2 = new()
    {
        Plugins = new List<TomSelectPluginType> { TomSelectPluginType.RemoveButton }
    };
    private bool isRendered = false;  

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            isRendered = true;
            await Task.Delay(0);
            StateHasChanged(); 
        }
    }
    protected override void OnInitialized() {

        _options = new List<SelectItem>
        {
            new SelectItem { Id = "1", Name = "Angelina May" },
            new SelectItem { Id = "2", Name = "Kiara advain" },
            new SelectItem { Id = "3", Name = "Hercules Jhon" },
            new SelectItem { Id = "4", Name = "Mayor Kim" },
        };
        _options2 = new List<SelectItem>
        {
            new SelectItem { Id = "UI/UX", Name = "UI/UX" },
            new SelectItem { Id = "Marketing", Name = "Marketing" },
            new SelectItem { Id = "Finance", Name = "Finance" },
            new SelectItem { Id = "Designing", Name = "Designing" },
            new SelectItem { Id = "Admin", Name = "Admin" },
            new SelectItem { Id = "Authentication", Name = "Authentication" },
            new SelectItem { Id = "Product", Name = "Product" },
            new SelectItem { Id = "Development", Name = "Development" },
        };
        _options3 = new List<SelectItem>
        {
            new SelectItem { Id = "Newest", Name = "Newest" },
            new SelectItem { Id = "Date Added", Name = "Date Added" },
            new SelectItem { Id = "Type", Name = "Type" },
            new SelectItem { Id = "A - Z", Name = "A - Z" },
        };
    }
}
 
<!-- Dragula JS -->
<script src="../assets/libs/dragula/dragula.min.js"></script>

<!-- Internal Task  JS -->
<script src="../assets/js/task-kanban-board.js"></script>